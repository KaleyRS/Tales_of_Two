#textdomain wesnoth-tales_of_two
# Modified unit from Legend of the Invincibles by Dugi. Changes such as the new AMLA were done by me.
[unit_type]
	id=Shadowalker tot
	name= _ "Shadowalker"
	race=human
	gender=male,female
	image="units/humans/assassin-sword.png"
	profile=portraits/humans/assassin.png
	hitpoints=60
	movement_type=elusivefoot
	movement=7
	experience=150
	{QUANTITY experience 110 130 150}
	level=4
	alignment=neutral
	advances_to=null
	[advancefrom]
		unit=Master at Arms
		experience=230
	[/advancefrom]
	cost=59
	usage=fighter
	description= _ "Sometimes, the most dextrous from all masters of combat become Shadowalkers, fighters whose skill with sword is unmatched. No longer requiring illumination to fight, they can fight equally well under the sun and in dark caves. If the situation is not ideal for fencing, they can shoot a poisoned bolt at their enemy or surprise him with an unexpected spell."+{SPECIAL_NOTES}+{SPECIAL_NOTES_BACKSTAB}+{SPECIAL_NOTES_POISON}+{SPECIAL_NOTES_SKIRMISHER}
	die_sound={SOUND_LIST:HUMAN_DIE}
	{DEFENSE_ANIM "units/humans/assassin-sword-defend-2.png" "units/humans/assassin-sword-defend-1.png" {SOUND_LIST:HUMAN_HIT} }
	[portrait]
		size=400
		side="left"
		mirror="false"
		image="portraits/humans/assassin.png"
	[/portrait]
	[portrait]
		size=400
		side="right"
		mirror="true"
		image="portraits/humans/assassin.png"
	[/portrait]
	[abilities]
		{ABILITY_SKIRMISHER}
	[/abilities]
	[attack]
		name=saber
		description=_"saber"
		icon=attacks/saber-human.png
		type=blade
		range=melee
		damage=9
		number=5
	[/attack]
	[attack]
		name=crossbow
		description=_"crossbow"
		icon=attacks/crossbow-human.png
		type=pierce
		range=ranged
		damage=25
		number=1
		[specials]
			{WEAPON_SPECIAL_POISON}
		[/specials]
	[/attack]
	[attack]
		name=shadow wave
		description=_"shadow wave"
		icon=attacks/dark-missile.png
		type=arcane
		damage=5
		number=3
		range=ranged
		[specials]
			{WEAPON_SPECIAL_MAGICAL}
			{WEAPON_SPECIAL_BACKSTAB}
		[/specials]
	[/attack]
	[attack_anim]
		[filter_attack]
			name=saber
		[/filter_attack]
		[frame]
			begin=-225
			end=-200
			image="units/humans/assassin-sword.png"
		[/frame]
		[frame]
			begin=-200
			end=-100
			image="units/humans/assassin-sword-2-1.png"
		[/frame]
		[if]
			hits=yes
			[frame]
				begin=-100
				end=150
				image="units/humans/assassin-sword-2-2.png"
				sound=dagger-swish.wav
			[/frame]
		[/if]
		[else]
			hits=no
			[frame]
				begin=-100
				end=150
				image="units/humans/assassin-sword-2-2.png"
				sound={SOUND_LIST:MISS}
			[/frame]
		[/else]
		[frame]
			begin=150
			end=200
			image="units/humans/assassin-sword.png"
		[/frame]
	[/attack_anim]
	[attack_anim]
		[filter_attack]
			name=saber
		[/filter_attack]
		[frame]
			begin=-225
			end=-200
			image="units/humans/assassin-sword.png"
		[/frame]
		[frame]
			begin=-200
			end=-100
			image="units/humans/assassin-sword-1.png"
		[/frame]
		[if]
			hits=yes
			[frame]
				begin=-100
				end=150
				image="units/humans/assassin-sword-2.png"
				sound=dagger-swish.wav
			[/frame]
		[/if]
		[else]
			hits=no
			[frame]
				begin=-100
				end=150
				image="units/humans/assassin-sword-2.png"
				sound={SOUND_LIST:MISS}
			[/frame]
		[/else]
		[frame]
			begin=150
			end=200
			image="units/humans/assassin-sword.png"
		[/frame]
	[/attack_anim]
	[attack_anim]
		[filter_attack]
			name=crossbow
		[/filter_attack]
		[missile_frame]
			begin=-150
			end=0
			image="projectiles/missile-n.png"
			image_diagonal="projectiles/missile-ne.png"
		[/missile_frame]
		[frame]
			begin=-300
			end=-100
			image="units/humans/assassin-sword.png"
		[/frame]
		[frame]
			begin=-200
			end=0
			image="units/humans/assassin-crossbow.png"
		[/frame]
		{SOUND:HIT_AND_MISS crossbow.ogg crossbow-miss.ogg -200}
		[frame]
			begin=0
			end=100
			image="units/humans/assassin-crossbow.png"
		[/frame]
		[frame]
			begin=100
			end=200
			image="units/humans/assassin-sword.png"
		[/frame]
	[/attack_anim]
	[attack_anim]
		[filter_attack]
			name=shadow wave
		[/filter_attack]
		[missile_frame]
			begin=-100
			end=100
			image="projectiles/darkmissile-n.png"
			image_diagonal="projectiles/darkmissile-ne.png"
		[/missile_frame]

		[frame]
			begin=-300
			end=-200
			image="units/human-outlaws/assassin-throwknife1.png"
		[/frame]
		[frame]
			begin=-200
			end=-75
			image="units/human-outlaws/assassin-throwknife2.png"
			halo=halo/undead/black-magic-1.png
		[/frame]
		[if]
			hits=yes
			[frame]
				begin=-75
				end=0
				image="units/human-outlaws/assassin-throwknife2.png"
				sound=magic-dark.ogg
				halo=halo/undead/black-magic-2.png
			[/frame]
		[/if]
		[else]
			hits=no
			[frame]
				begin=-75
				end=0
				image="units/human-outlaws/assassin-throwknife2.png"
				sound=magic-dark-miss.ogg
				halo=halo/undead/black-magic-2.png
			[/frame]
		[/else]
		[frame]
			begin=0
			end=75
			image="units/human-outlaws/assassin-throwknife2.png"
			halo=halo/undead/black-magic-3.png
		[/frame]
		[frame]
			begin=75
			end=150
			image="units/human-outlaws/assassin-throwknife2.png"
			halo=halo/undead/black-magic-4.png
		[/frame]

		[frame]
			begin=150
			end=200
			image="units/human-outlaws/assassin-throwknife2.png"
			halo=halo/undead/black-magic-5.png
		[/frame]
		[frame]
			begin=200
			end=300
			image="units/human-outlaws/assassin-throwknife1.png"
		[/frame]
	[/attack_anim]
	[attack_anim]
		[filter_attack]
			name=whirlwind
		[/filter_attack]
		[frame]
			begin=-500
			end=-400
			image="units/humans/assassin-whirlwind-1.png"
		[/frame]
		[frame]
			begin=-400
			end=-300
			image="units/humans/assassin-whirlwind-2.png"
		[/frame]
		[frame]
			begin=-300
			end=-200
			image="units/humans/assassin-whirlwind-3.png"
		[/frame]
		[frame]
			begin=-200
			end=-100
			image="units/humans/assassin-whirlwind-4.png"
		[/frame]
		[if]
			hits=yes
			[frame]
				begin=-100
				end=0
				image="units/humans/assassin-whirlwind-1.png"
				sound={SOUND_LIST:SWORD_SWISH}
			[/frame]
		[/if]
		[else]
			hits=no
			[frame]
				begin=-100
				end=0
				image="units/humans/assassin-whirlwind-2.png"
				sound={SOUND_LIST:MISS}
			[/frame]
		[/else]
		[frame]
			begin=0
			end=100
			image="units/humans/assassin-whirlwind-3.png"
		[/frame]
		[frame]
			begin=100
			end=200
			image="units/humans/assassin-whirlwind-4.png"
		[/frame]
		[frame]
			begin=200
			end=300
			image="units/humans/assassin-whirlwind-1.png"
		[/frame]
		[frame]
			begin=300
			end=400
			image="units/humans/assassin-sword.png"
		[/frame]
	[/attack_anim]
	[female]
		#Female Shadowalker is merely a leftovers of older versions, but some of them might appear as unique units. Why should I delete the sprites or render them useless?
		name= _ "female^Shadowalker"
		gender=female
		image="units/humans/assassin+female-sword.png"
		profile="portraits/humans/assassin+female.png"
		die_sound={SOUND_LIST:HUMAN_FEMALE_DIE}
		{DEFENSE_ANIM "units/humans/assassin-sword-defend-2.png" "units/humans/assassin-sword-defend-1.png" {SOUND_LIST:HUMAN_HIT} }
		[portrait]
			size=400
			side="left"
			mirror="false"
			image="portraits/humans/assassin+female.png"
		[/portrait]
		[portrait]
			size=400
			side="right"
			mirror="true"
			image="portraits/humans/assassin+female.png"
		[/portrait]
		[attack_anim]
			[filter_attack]
				name=saber
			[/filter_attack]
			[frame]
				begin=-225
				end=-200
				image="units/humans/assassin+female-sword.png"
			[/frame]
			[frame]
				begin=-200
				end=-100
				image="units/humans/assassin-sword-2-1.png"
			[/frame]
			[if]
				hits=yes
				[frame]
					begin=-100
					end=150
					image="units/humans/assassin-sword-2-2.png"
					sound=dagger-swish.wav
				[/frame]
			[/if]
			[else]
				hits=no
				[frame]
					begin=-100
					end=150
					image="units/humans/assassin-sword-2-2.png"
					sound={SOUND_LIST:MISS}
				[/frame]
			[/else]
			[frame]
				begin=150
				end=200
				image="units/humans/assassin+female-sword.png"
			[/frame]
		[/attack_anim]
		[attack_anim]
			[filter_attack]
				name=saber
			[/filter_attack]
			[frame]
				begin=-225
				end=-200
				image="units/assassin+female-sword.png"
			[/frame]
			[frame]
				begin=-200
				end=-100
				image="units/humans/assassin-sword-1.png"
			[/frame]
			[if]
				hits=yes
				[frame]
					begin=-100
					end=150
					image="units/humans/assassin-sword-2.png"
					sound=dagger-swish.wav
				[/frame]
			[/if]
			[else]
				hits=no
				[frame]
					begin=-100
					end=150
					image="units/humans/assassin-sword-2.png"
					sound={SOUND_LIST:MISS}
				[/frame]
			[/else]
			[frame]
				begin=150
				end=200
				image="units/humans/assassin+female-sword.png"
			[/frame]
		[/attack_anim]
		[attack_anim]
			[filter_attack]
				name=crossbow
			[/filter_attack]
			[missile_frame]
				begin=-150
				end=0
				image="projectiles/missile-n.png"
				image_diagonal="projectiles/missile-ne.png"
			[/missile_frame]
			[frame]
				begin=-300
				end=-100
				image="units/humans/assassin+female-sword.png"
			[/frame]
			[frame]
				begin=-200
				end=0
				image="units/humans/assassin-crossbow.png"
			[/frame]
			{SOUND:HIT_AND_MISS crossbow.ogg crossbow-miss.ogg -200}
			[frame]
				begin=0
				end=100
				image="units/humans/assassin-crossbow.png"
			[/frame]
			[frame]
				begin=100
				end=200
				image="units/humans/assassin+female-sword.png"
			[/frame]
		[/attack_anim]
		[attack_anim]
			[filter_attack]
				name=shadow wave
			[/filter_attack]
			[missile_frame]
				begin=-100
				end=100
				image="projectiles/darkmissile-n.png"
				image_diagonal="projectiles/darkmissile-ne.png"
			[/missile_frame]

			[frame]
				begin=-300
				end=-200
				image="units/human-outlaws/assassin+female-throwknife1.png"
			[/frame]
			[frame]
				begin=-200
				end=-75
				image="units/human-outlaws/assassin+female-throwknife2.png"
				halo=halo/undead/black-magic-1.png
			[/frame]
			[if]
				hits=yes
				[frame]
					begin=-75
					end=0
					image="units/human-outlaws/assassin+female-throwknife2.png"
					sound=magic-dark.ogg
					halo=halo/undead/black-magic-2.png
				[/frame]
			[/if]
			[else]
				hits=no
				[frame]
					begin=-75
					end=0
					image="units/human-outlaws/assassin+female-throwknife2.png"
					sound=magic-dark-miss.ogg
					halo=halo/undead/black-magic-2.png
				[/frame]
			[/else]
			[frame]
				begin=0
				end=75
				image="units/human-outlaws/assassin+female-throwknife2.png"
				halo=halo/undead/black-magic-3.png
			[/frame]
			[frame]
				begin=75
				end=150
				image="units/human-outlaws/assassin+female-throwknife2.png"
				halo=halo/undead/black-magic-4.png
			[/frame]

			[frame]
				begin=150
				end=200
				image="units/human-outlaws/assassin+female-throwknife2.png"
				halo=halo/undead/black-magic-5.png
			[/frame]
			[frame]
				begin=200
				end=300
				image="units/human-outlaws/assassin+female-throwknife1.png"
			[/frame]
		[/attack_anim]
		[attack_anim]
			[filter_attack]
				name=whirlwind
			[/filter_attack]
			[frame]
				image="units/humans/assassin-whirlwind-1.png"
			[/frame]
			[frame]
				image="units/humans/assassin-whirlwind-2.png"
			[/frame]
			[frame]
				image="units/humans/assassin-whirlwind-3.png"
			[/frame]
			[frame]
				image="units/humans/assassin-whirlwind-4.png"
			[/frame]
			[if]
				hits=yes
				[frame]
					image="units/humans/assassin-whirlwind-1.png"
					sound={SOUND_LIST:SWORD_SWISH}
				[/frame]
			[/if]
			[else]
				hits=no
				[frame]
					image="units/humans/assassin-whirlwind-2.png"
					sound={SOUND_LIST:MISS}
				[/frame]
			[/else]
			[frame]
				image="units/humans/assassin-whirlwind-3.png"
			[/frame]
			[frame]
				image="units/humans/assassin-whirlwind-4.png"
			[/frame]
			[frame]
				image="units/humans/assassin-whirlwind-1.png"
			[/frame]
			[frame]
				image="units/humans/assassin-sword.png"
			[/frame]
		[/attack_anim]
	[/female]
	[advancement]
		max_times=10
		id=saber_stronger
        major_amla=yes
		strict_amla=yes
		description= _ "Stronger with saber"
		image=attacks/saber-human.png
		[effect]
			apply_to=attack
			name=saber
			increase_damage=1
		[/effect]
		{TOT_AMLA_DEFAULT_BONUS}
	[/advancement]
	[advancement]
		require_amla=saber_stronger
		max_times=3
		id=saber_faster
        major_amla=yes
		strict_amla=yes
		description= _ "Faster with saber"
		image=attacks/saber-human.png
		[effect]
			apply_to=attack
			name=saber
			increase_damage=-2
			increase_attacks=1
		[/effect]
		{TOT_AMLA_DEFAULT_BONUS}
	[/advancement]
	[advancement]
		max_times=5
		id=crossbow_stronger
        major_amla=yes
		strict_amla=yes
		description= _ "Stronger with crossbow"
		image=attacks/crossbow-human.png
		[effect]
			apply_to=attack
			name=crossbow
			increase_damage=7
		[/effect]
		{TOT_AMLA_DEFAULT_BONUS}
	[/advancement]
	[advancement]
		max_times=5
		id=shadow_wave_stronger
        major_amla=yes
		strict_amla=yes
		description= _ "Stronger with shadow wave"
		image=attacks/dark-missile.png
		[effect]
			apply_to=attack
			name=shadow wave
			increase_damage=2
		[/effect]
		{TOT_AMLA_DEFAULT_BONUS}
	[/advancement]
	[advancement]
		require_amla=shadow_wave_stronger
		max_times=1
		id=shadow_wave_backstab_improved
        major_amla=yes
		strict_amla=yes
		description= _ "Learn improved backstab with shadow wave"
		image=attacks/dark-missile.png
		[effect]
			apply_to=attack
			name=shadow wave
			[set_specials]
				{WEAPON_SPECIAL_MAGICAL}
				{TOT_SPECIALS_BACKSTAB_IMPROVED}
			[/set_specials]
		[/effect]
		{TOT_AMLA_DEFAULT_BONUS}
	[/advancement]
	{TOT_AMLA_VITALITY}
	{TOT_AMLA_FASTER}
[/unit_type]